<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Google Map</title>
    <style>
        #map{
            height:400px;
            width:100%;
        }
    </style>
</head>
<body>
<h1>My Google Map</h1>
<div id="map"></div>
<script>

    function initMap(){
        // Map options
        var options = {
            zoom:10,
            center:{lat:42.3601,lng:-71.0589}
        }

        // New map
        var map = new google.maps.Map(document.getElementById('map'), options);

        // Listen for click on map
        google.maps.event.addListener(map, 'click', function(event){
            // Add marker
            addMarker({coords:event.latLng,content:' <div class="row text-center" style="display:flex; flex-wrap: wrap;">\n' +
                '        <div class="col-md-4">\n' +
                '          <div class="card shadow-sm mb-3">\n' +
                '            <!-- Avartar -->\n' +
                '            <div class="card-header">\n' +
                '              <img\n' +
                '                src="https://placekitten.com/100/100"\n' +
                '                style="height:30px; width:30px;"\n' +
                '              />\n' +
                '              Andy Figiel\n' +
                '            </div>\n' +
                '            <!-- Image -->\n' +
                '            <img\n' +
                '              class="card-img-bottom"\n' +
                '              src="https://s3.amazonaws.com/photos.fishidy.com/5614814166b01a04d00c5e98_800"\n' +
                '              data-holder-rendered="true"\n' +
                '              style="height: 100%; width: 100%;"\n' +
                '            />\n' +
                '            <!-- Description -->\n' +
                '            <p class="card-caption mt-3">3 lb. Largemouth Bass</p>\n' +
                '            <!-- Footer -->\n' +
                '            <div class="card-footer">\n' +
                '              <div\n' +
                '                class="d-flex justify-content-between align-items-center mx-1"\n' +
                '              >\n' +
                '                <button\n' +
                '                  type="button"\n' +
                '                  class="btn btn-primary"\n' +
                '                  data-toggle="modal"\n' +
                '                  data-target="#modal"\n' +
                '                >\n' +
                '                  <i class="fa fa-comment"></i>\n' +
                '                </button>\n' +
                '\n' +
                '                <i class="far fa-thumbs-up"></i>\n' +
                '                <i class="fas fa-share-alt-square"></i>\n' +
                '              </div>\n' +
                '            </div>\n' +
                '            <!-- Comment List -->\n' +
                '            <div class="list-group">\n' +
                '              <a\n' +
                '                href="#"\n' +
                '                class="list-group-item list-group-item-action flex-column"\n' +
                '              >\n' +
                '                <div class="d-flex flex-column align-items-start">\n' +
                '                  <h6 class="mb-1">User1</h6>\n' +
                '                  <p class="mb-1">\n' +
                '                    Maecenas sed diam eget risus varius blandit.\n' +
                '                  </p>\n' +
                '                  <small class="text-muted">3 days ago</small>\n' +
                '                </div>\n' +
                '              </a>\n' +
                '              <a\n' +
                '                href="#"\n' +
                '                class="list-group-item list-group-item-action flex-column"\n' +
                '              >\n' +
                '                <div class="d-flex w-100 flex-column align-items-start">\n' +
                '                  <h6 class="mb-1">User2</h6>\n' +
                '                  <p class="mb-1">This is a comment</p>\n' +
                '                  <small class="text-muted">4 days ago</small>\n' +
                '                </div>\n' +
                '              </a>\n' +
                '            </div>\n' +
                '          </div>\n' +
                '        </div>'});
        });
        var infoWindow = new google.maps.InfoWindow({
            content:'<h1>Lynn MA</h1>'
        });

        // Array of markers
        var markers = [
            {
                coords:{lat:42.4668,lng:-70.9495},
                content:'<h1>Lynn MA</h1>'
            },
            {
                coords:{lat:42.8584,lng:-70.9300},
                content:'<h1>Amesbury MA</h1>'
            },
            {
                coords:{lat:42.7762,lng:-71.0773}
            }
        ];

        // Loop through markers
        for(var i = 0;i < markers.length;i++){
            // Add marker
            addMarker(markers[i]);
        }

        // Add Marker Function
        function addMarker(props){
            var marker = new google.maps.Marker({
                position:props.coords,
                map:map,
                icon:props.iconImage,
             });

            // Check for customicon
            if(props.iconImage){
                // Set icon image
                marker.setIcon(props.iconImage);
            }

            // Check content
            if(props.content){
                var infoWindow = new google.maps.InfoWindow({
                    content:props.content
                });

                marker.addListener('click', function(){
                    infoWindow.open(map, marker);
                });
            }
        }

    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrwKXsz9MEXb7-4gi7JKT_moyf_b6damk&callback=initMap">
</script>
</body>
</html>
