<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <title>Fishbook</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link th:href="@{/css/main.css}" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
        crossorigin="anonymous">
</head>

<body>
   <div th:replace="/widgets/header :: header"></div>

    <!-- Jumbotron -->
    <header class="jumbotron" th:if="${session.user}">
        <div class="container">
            <div class="row row-header">
                <div class="col-12 col-md-8">
                    <h1 class="display-4 text-center">Welcome To Fishbook!</h1>
                    <p class="d-none d-md-block text-center">Share your experience with fishing enthusiasts
                        around the
                        world.</p>
                </div>

                <div class="col-12 offset-1 col-md-3 align-self-center">
                    <button type="button" class="btn-lg btn-secondary" data-toggle="modal" data-target="#writePost">Write
                        A Post</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container"  th:if="${session.user}">

        <!-- Posts -->
        <div class="row text-center" style="display:flex; flex-wrap: wrap;">

            <div class="col-md-4">
                <div class="card shadow-sm mb-3">
                    <!-- Avartar -->
                    <div class="card-header"> <img src="https://placekitten.com/100/100" style="height:30px; width:30px;">
                        Andy Figiel </div>
                    <!-- Image -->
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/5614814166b01a04d00c5e98_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <!-- Description -->
                    <p class="card-caption mt-3">3 lb. Largemouth Bass</p>
                    <!-- Footer -->
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card mx-1 shadow-sm mb-3">
                    <div class="card-header"> <img class="mr-1" src="https://placekitten.com/400/400" style="height:30px; width:30px;">
                        Noah Shapiro </div>
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/5bc34fdf6e8bb8065848a9d2_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <p class="card-caption mt-3">Cutbow Trout with a Lucky Leech</p>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card mx-1 shadow-sm mb-3">
                    <div class="card-header"> <img src="https://placekitten.com/400/400" style="height:30px; width:30px;">
                        Joshua Haskins </div>
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/5b9de33f6e8bc80530a301f0_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <p class="card-text mt-3">32 in. Red Drum</p>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card mx-1 shadow-sm mb-3">
                    <div class="card-header"> <img src="https://placekitten.com/200/200" style="height:30px; width:30px;">
                        Dave Greendale </div>
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/579a355166b01a0520f6b06e_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <p class="card-text mt-3">10 lb. Striped Bass with a Live bait</p>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card mx-1 shadow-sm mb-3">
                    <div class="card-header"> <img src="https://placekitten.com/600/600" style="height:30px; width:30px;">
                        Rusty Suender</div>
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/5b1b3cda6e8bb70b2c32eec8_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <p class="card-text mt-3">10 lb sea trout with a Fishing rod using jigs</p>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card mx-1 shadow-sm mb-3">
                    <div class="card-header"> <img class="mr-1" src="https://placekitten.com/500/500" style="height:30px; width:30px;">
                        Adam Mullins</div>
                    <img class="card-img-bottom" src="https://s3.amazonaws.com/photos.fishidy.com/5b92d04e6e8bc50530b19636_800"
                        data-holder-rendered="true" style="height: 100%; width: 100%;">
                    <p class="card-text mt-3">19 in. Walleye</p>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center mx-1">
                            <i class="fa fa-comment"></i>
                            <i class="far fa-thumbs-up"></i>
                            <i class="fas fa-share-alt-square"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!--Noah Shapiro-->
            <!--Cutbow Trout with a Lucky Leech-->
            <!--https://s3.amazonaws.com/photos.fishidy.com/5bc34fdf6e8bb8065848a9d2_800-->

            <!--Adam Mullins-->
            <!--19 in. Walleye-->
            <!--https://s3.amazonaws.com/photos.fishidy.com/5b92d04e6e8bc50530b19636_800-->

            <!--Joshua Haskins-->
            <!--32 in. Red Drum-->
            <!--https://s3.amazonaws.com/photos.fishidy.com/5b9de33f6e8bc80530a301f0_800-->

            <!--Rusty Suender-->
            <!--10 lb sea trout with a Fishing rod using jigs-->
            <!--https://s3.amazonaws.com/photos.fishidy.com/5b1b3cda6e8bb70b2c32eec8_800-->

            <!-- Row - writePost -->
            <div id="writePost" class="modal fade" role="dialog">
                <div class="modal-dialog modal-lg" role="content">
                    <div class="modal-content">
                        <!--<div class="modal-header">-->
                        <!--</div>-->
                        <div class="modal-body">
                            <form>
                                <div class="form-group row align-items-center">
                                    <div class="col-md-12">
                                        <textarea class="form-control" id="feedback" name="feedback" rows="4"
                                            placeholder="What's happenning?"></textarea>
                                    </div>
                                </div>
                                <div class="form-group d-flex">
                                    <div class="d-flex justify-content-between col-md-2 mt-2">
                                        <i class="fa fa-lg fa-images"></i>
                                        <i class="fa fa-lg fa-video"></i>
                                    </div>
                                    <div class="offset-md-7 col-md-3">
                                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cancel</button>
                                        <button type="submit" class="btn btn-primary btn-sm">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" role="content">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Sign In</h4>
                    <button class="close" data-dismiss="modal">&times;
                    </button>
                </div>
                <div class="modal-body">
                    <form role="form" method="post" action="/login">
                        <div class="form-row">
                            <div class="form-group col-sm-6">
                                <label class="sr-only" for="email">Email address</label>
                                <input type="email" class="form-control form-control-sm mr-1" id="email" name="email"
                                       placeholder="Email">
                            </div>
                            <div class="form-group col-sm-6">
                                <label class="sr-only" for="password">Password</label>
                                <input type="password" class="form-control form-control-sm mr-1" id="password" name="password"
                                       placeholder="Password">
                            </div>
                            <div class="col-sm-auto col-sm-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox">
                                    <label class="form-check-label"> Remember me
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <button type="button" class="btn btn-secondary btn-sm ml-auto" data-dismiss="modal">Cancel</button>
                            <button type="submit" id="btn-login"  class="btn btn-primary btn-sm ml-1">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Register -->
    <div class="register my-5" th:if="${session.user==null}">
        <div class="container">
            <div class="row">
                <div class="col-md-8 m-auto">
                    <h1 class="display-4 text-center">Sign Up</h1>
                    <p class="lead text-center">Create your Fishbook account</p>
                    <form action="create-profile.html">
                        <div class="form-group">
                            <input type="text" class="form-control form-control-lg" placeholder="Name" name="name"
                                   required />
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control form-control-lg" placeholder="Email Address" name="email" />
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control form-control-lg" placeholder="Password" name="password" />
                        </div>
                        <input type="submit" class="btn btn-primary btn-block mt-4" />
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer  -->
   <div th:replace="/widgets/footer :: footer"></div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
 <!--   <script th:src="@{/1.12.4/jquery.min.js}" type="text/javascript"></script>
    <script th:src="@{/layer/layer.js}" type="text/javascript"></script>-->

    <!--<script type="text/javascript">
        $(function () {
           /* $("#email,#password").on('focus',function () {
                $(this).tooltip('destroy').parents('.form-group').removeClass('has-error');;
            });*/
            $(document).keydown(function (e) {
                var event = document.all ? window.event : e;
                if(event.keyCode === 13){
                    $("#btn-login").click();
                }
            });
            $("#btn-login").on('click',function () {
                var $btn = $(this).button('loading');
                var email = $.trim($("#email").val());
                var password = $.trim($("#password").val());
                /*if(email === ""){
                    $("#email").tooltip({placement:"auto",title : "Email Is Required",trigger : 'manual'})
                        .tooltip('show')
                        .parents('.form-group').addClass('has-error');
                    $btn.button('reset');
                    return false;

                }else if(password === ""){
                    $("#password").tooltip({title : 'Password Is Required',trigger : 'manual'})
                        .tooltip('show')
                        .parents('.form-group').addClass('has-error');
                    $btn.button('reset');
                    return false;
                }else{*/
                    $.ajax({
                        url : "login",
                        data : $("form").serializeArray(),
                        type : "POST",
                        success : function (res) {
                            if(res.code !== "success"){
                                layer.msg(res.msg);
                                $btn.button('reset');
                            }else{
                                window.location = "/index";
                            }
                        },
                        error :function () {
                            layer.msg('System Error!');
                            $btn.button('reset');
                        }
                    });
                /*}*/
                return false;
            });
        });
    </script>-->
</body>

</html>